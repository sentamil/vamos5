<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="Satheesh">
<title>GPS</title>
<link rel="shortcut icon" href="assets/imgs/tab.ico">
<link href="../app/views/reports/AdminLTE/AdminLTE.css" rel="stylesheet">
<link href="assets/css/bootstrap.css" rel="stylesheet">
<link href="../app/views/reports/datepicker/bootstrap-datetimepicker.css" rel="stylesheet" type="text/css">
<link href="assets/css/jVanilla.css" rel="stylesheet">
<link href="assets/css/simple-sidebar.css" rel="stylesheet">
<link href="assets/font-awesome-4.2.0/css/font-awesome.css" rel="stylesheet">
<link href="../app/views/reports/table/font-awesome.css" rel="stylesheet" type="text/css">

</head>
<div id="preloader" >
    <div id="status">&nbsp;</div>
</div>
<div id="preloader02" >
    <div id="status02">&nbsp;</div>
</div>
<style>
	/*.box > .loading-img {
z-index: 1020;
background: transparent url('assets/imgs/status.gif') 50% 50% no-repeat;
}*/

.table-striped > tbody > tr:nth-child(even) > td, .table-striped > tbody > tr:nth-child(even) > th {
background-color: #ffffff;
}
</style>
<body ng-app="mapApp">
	<div id="wrapper" ng-controller="histCtrl" class="ng-cloak">
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand"><a href="javascript:void(0);"><img id="imagesrc" src=""/></i></a></li>
                <li class="track"><a href="../public/track"><div></div><label>Track</label></a></li>
                <!-- <li class="history"><a href="../public/track?maps=replay"><div></div><label>History</label></a></li> -->
                <li class="alert01"><a href="../public/reports" class="active"><div></div><label>Reports</label></a></li>
		 		<li class="stastics"><a href="../public/statistics"><div></div><label>Statistics</label></a></li>
                <li class="admin"><a href="../public/settings"><div></div><label>Scheduled</label></a></li>
                <li class="fms"><a href="../public/fms"><div></div><label>FMS</label></a></li>
                <li><a href="../public/logout"><img src="assets/imgs/logout.png"/></a></li>
            </ul>
            <ul class="sidebar-subnav ">
                <li style="padding-left:25px;">
                	<div class="right-inner-addon" align="center"> 
                    <i class="fa fa-search"></i>
                    <input type="search" class="form-control" placeholder="Search" ng-model="searchbox" name="search" />
                    </div>
                </li>
                <li ng-repeat="location in locations" class="active"><a href="javascript:void(0);" ng-click="groupSelection(location.group, location.rowId)">{{trimColon(location.group)}}</a>
                    <ul class="nav nav-second-level" style="max-height: 400px; overflow-y: auto;">
                    <li ng-repeat="loc in location.vehicleLocations | filter:searchbox" ng-class="{active:vehiname ==loc.vehicleId}"><a href="history?vid={{loc.vehicleId}}&vg={{location.group}}" ng-class="{active: $index == selected, red:loc.status=='OFF'}" ng-click="genericFunction(loc.vehicleId, $index)"><img ng-src="assets/imgs/{{loc.vehicleType}}.png" fall-back-src="assets/imgs/Car.png" width="16" height="16"/><span>{{loc.shortName}}</span></a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div id="testLoad"></div>
        <div id="page-content-wrapper">
            <div class="container-fluid">
            	<div class="panel panel-default">
            	</div>   		
        	</div>
        <!-- /#page-content-wrapper -->
    	</div>
 
    <!-- AdminLTE css box-->
   
       <div class="col-md-12">
	       	<div class="box box-primary">
		        <div class="box-header" data-toggle="tooltip" title="" data-original-title="Header tooltip">
		            <h3 class="box-title">History Reports </h3>
		            <div class="box-tools pull-right">
                               <span class="pull-right"><a href="reports"><input class="btn btn-xs btn-danger pull-right" type="button" value="Reports"></a></span>        
                    </div>
		            <div ng-hide="true" class="box-tools pull-right">
		                <a href="downloadhistory?vid={{id}}&rid={{downloadid}}" target="_blank"><img src="../app/views/reports/image/Adobe.png" /></a>
		                <img style="cursor: pointer;" ng-click="exportData(downloadid)"  src="../app/views/reports/image/xls.png" />
		            </div>
		        </div>
		        <div class="row">
		        				<div class="col-md-1" align="center"></div>
                    			<div class="col-md-2" align="center">
                                	<div class="form-group">
                                    	<div class="input-group datecomp">
                                            <input type="text" ng-model="fromdate" class="form-control placholdercolor" id="dateFrom" placeholder="From date">
                                            <!-- <div class="input-group-addon"><i class="fa fa-calendar"></i></div> -->
                                    	</div>
                                  	</div>
                                </div>
                                <div class="col-md-2" align="center">
                                	<div class="form-group">
                                    	<div class="input-group datecomp">
                                            <input type="text" ng-model="fromtime" class="form-control placholdercolor" id="timeFrom" placeholder="From time">
                                            <!-- <div class="input-group-addon"><i class="glyphicon glyphicon-time"></i></div> -->
                                    	</div>
                                  	</div>
                                </div>
                                <div class="col-md-2" align="center">
                                	<div class="form-group">
                                    	<div class="input-group datecomp">
                                          	<input type="text" min-date="fromdate" ng-model="todate" class="form-control placholdercolor" id="dateTo" placeholder="To date">
                                          	<!-- <div class="input-group-addon"><i class="fa fa-calendar"></i></div> -->
                                    	</div>
                                  	</div>
                                </div>
                                <div class="col-md-2" align="center">
                                	<div class="form-group">
                                    	<div class="input-group datecomp">
                                          	<input type="text" ng-model="totime" class="form-control placholdercolor" id="timeTo" placeholder="To time">
                                          	<!-- <div class="input-group-addon"><i class="glyphicon glyphicon-time"></i></div> -->
                                    	</div>
                                  	</div>
                                </div>
                                <div class="col-md-2" align="center">
                                	<div class="form-group">
                                    	<div class="input-group datecomp">
                                          	<select ng-change="intervalChange()" class="input-sm form-control" ng-model="interval">
						                   		 <option value="">Interval</option>
						                   		 <option label="1 mins">1</option>
						                   		 <option label="2 mins">2</option>
						                   		 <option label="5 mins">5</option>
						                   		 <option label="10 mins">10</option>
						                   		 <option label="15 mins">15</option>
						                   		 <option label="30 mins">30</option>
						                   	</select>
						                </div>
                                  	</div>
                                </div>
                                <div class="col-md-1" align="center">
                                    <button ng-click="plotHist()" style="margin-left: -100%;">Submit</button>
                                </div>
                               
                            </div>
		        <div class="box-body" ng-class="overallEnable?'col-md-9':'col-md-12'" id="statusreport">
		        	 <!-- Tabset -->
					 <tabset class="nav-tabs-custom">
					 	<tab select="alertMe('Movement')" heading="Movement" active="tabmovement">
			   				 <p style="margin:0" class="page-header">Movement Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   				 <div id='movementreport' class="box-body table-responsive">
			   				 <table class="table table-bordered table-striped table-condensed table-hover">
			   				 	<thead>
								   	<tr style="text-align:center; font-weight: bold;">
									  	<th colspan="2" style="background-color:#ecf7fb;">Vehicle Group</th>
									  	<th colspan="2" style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
									  	<th style="background-color:#ecf7fb;">Vehicle Name</th>
									  	<th colspan="3" style="background-color:#f9f9f9;">{{hist.shortName}}</th>					
								  	</tr>
								  	<tr style="text-align:center;font-weight: bold;">
									  	<th colspan="2" style="background-color:#f9f9f9;">Regn No</th>
								       	<th colspan="2" style="background-color:#ecf7fb;">{{hist.regNo}}</th>
								      	<th style="background-color:#f9f9f9;">Speed Limit</th>
								      	<th colspan="3" style="background-color:#ecf7fb;">{{hist.overSpeedLimit}} Kmph</th>
								    </tr>
								    <tr style="text-align:center;font-weight: bold;">
									  	<th colspan="2" style="background-color:#ecf7fb;">Opening OdoReading</th>
								       	<th colspan="2" style="background-color:#f9f9f9;">{{hist.openingOdoReading}}</th>
								      	<th style="background-color:#ecf7fb;">Closing OdoReading</th>
								      	<th colspan="3" style="background-color:#f9f9f9;">{{hist.closingOdoReading}}</th>
								    </tr>
								    <tr ng-hide="true" style="text-align:center; font-weight: bold;" >
									  	<td colspan="2"><b>From Date</b></td>
									  	<td>{{fromdate}}</td>
									  	<td colspan="1"><b>From Time</b></td>
									  	<td colspan="3">{{fromtime}}</td>	
								  	</tr>
								  	<tr ng-hide="true" style="text-align:center; font-weight: bold;">
									  	<td colspan="2"><b>To Date</b></td>
								       	<td>{{todate}}</td>
								      	<td colspan="1"><b>To Time</b></td>
								      	<td colspan="3">{{totime}}</td>
								    </tr>
								   </thead>
								   </table>
								   <div class="col-md-12" style="height: 15px;"></div>
								<!--    <tr><td colspan="8"></td></tr> -->
								    <table class="table table-bordered table-striped table-condensed table-hover"> 
								    <thead>
									<tr style="text-align:center" >
										<th width="14%" class="id" custom-sort order="'date'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Date&amp;Time</th>
										<th width="8%" class="id" custom-sort order="'speed'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Speed</th>
										<th width="7%" class="id" style="text-align:center;background-color:#C2D2F2;">G-Map</th>
										<th width="8%" class="id" custom-sort order="'gsmLevel'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Sat</th>
										<th width="32%" class="id" custom-sort order="'address'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Nearest Location</th>
										<th width="9%" class="id" custom-sort order="'tmpDistance'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Dist</th>
										<th width="15%" class="id" custom-sort order="'distanceCovered'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">C-Dist (KM)</th>
										<th width="20%" class="id" custom-sort order="'odoDistance'" sort="sort"  style="text-align:center;height:3px;background-color:#C2D2F2;">Odo (KM)</th>
									</tr>
									</thead>
									<tbody>
									<tr ng-repeat="move in movementdata | orderBy:natural(sort.sortingOrder):sort.reverse" class="active" style="text-align:center">
										<td>{{move.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
										<td>{{move.speed}}</td>
										<td><a href="https://www.google.com/maps?q=loc:{{move.latitude}},{{move.longitude}}" target="_blank">Link</a></td>
										<td>{{move.gsmLevel}}</td>
										<td>
											<p ng-if="move.address!=null">{{move.address}}</p>
											<p ng-if="move.address==null && maddress1[$index]!=null">{{maddress1[$index]}}</p>
											<p ng-if="move.address==null && maddress1[$index]==null"><img src="assets/imgs/loader.gif" align="middle"></p>
										</td>
										<!-- <td style="cursor: pointer;" get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && maddress[$index]==null">Click Me</td> -->
										<!-- <td get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && maddress1[$index]!=null">{{maddress1[$index]}}</td> -->
										<td>{{move.tmpDistance}}</td>
										<td>{{move.distanceCovered}}</td>
										<td>{{move.odoDistance}}</td>
									</tr>	
									<tr ng-if="movementdata==null || movementdata.length==0" align="center">
										<td colspan="8" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
							</table>
							<!-- <pagination boundary-links="true" max-size="3" items-per-page="itemsPerPage" total-items="movementdata.length" ng-model="currentPage" ng-change="pageChanged()"></pagination>	
							 --></div>
			   			 </tab>
			   			 <tab select="alertMe('Overspeed')" heading="Overspeed" active="taboverspeed">
			   				 <p style="margin:0" class="page-header">Overspeed Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   				 <div class="box-body table-responsive" id='overspeedreport'>
			   				 <table class="table table-bordered table-striped table-condensed table-hover">
			   				 	<thead>
								   	<tr style="text-align:center; font-weight: bold;" >
									  	<th colspan="2" style="background-color:#ecf7fb;"><b>Vehicle Group</b></th>
									  	<th colspan="2" style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
									  	<th colspan="2" style="background-color:#ecf7fb;"><b>Vehicle Name</b></th>
									  	<th style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
								  	</tr>
								  	<tr style="text-align:center; font-weight: bold;">
									  	<th colspan="2" style="background-color:#f9f9f9;"><b>Regn No</b></th>
								       	<th colspan="2" style="background-color:#ecf7fb;">{{hist.regNo}}</th>
								      	<th colspan="2" style="background-color:#f9f9f9;"><b>Speed Limit</b></th>
								      	<th style="background-color:#ecf7fb;">{{hist.overSpeedLimit}} Kmph</th>
								    </tr>
								    
								    <tr ng-hide="true" style="text-align:center; font-weight: bold;" >
									  	<th colspan="3"><b>From Date</b></th>
									  	<th>{{fromdate}}</th>
									  	<th colspan="2"><b>From Time</b></th>
									  	<th>{{fromtime}}</th>	
								  	</tr>
								  	<tr ng-hide="true" style="text-align:center; font-weight: bold;">
									  	<th colspan="3"><b>To Date</b></th>
								       	<th>{{todate}}</th>
								      	<th colspan="2"><b>To Time</b></th>
								      	<th>{{totime}}</th>
								    </tr>
								</thead>
								</table> 
								<div class="col-md-12" style="height: 15px;"></div>   
								 <!--   <tr><td colspan="8"></td></tr> -->
								 <table class="table table-bordered table-striped table-condensed table-hover">
								 <thead>
									<tr> 
										<th width="12%" class="id" custom-sort order="'date'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Date&amp;Time</th>
										<th width="10%" class="id" custom-sort order="'speed'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Speed (Km)</th>
										<th width="11%" class="id" custom-sort order="'movingTime'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Duration (h:m:s)</th>
										<th width="7%" class="id" style="text-align:center;background-color:#C2D2F2;">G-Map</th>
										<th width="10%" class="id" custom-sort order="'gsmLevel'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Sat</th>
										<th width="30%" class="id" custom-sort order="'address'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Nearest Location</th>
										<!-- <th ng-hide="true" class="id" sort="sort" style="text-align:center;">Over Speed</th> -->
										<th width="12%" class="id" custom-sort order="'odoDistance'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Odo (Km)</th>
										<th width="13%" class="id" custom-sort order="'tripDistance'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Trip (Km)</th>
										<!-- <th ng-hide="true" width="10%" colspan="2" class="id" order="''" style="text-align:center;">G-Map</th> -->
									</tr></thead>
									
									<tr ng-repeat="user in overspeeddata | orderBy:natural(sort.sortingOrder):sort.reverse" class="active" style="text-align:center">
										<td>{{user.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
										<td>{{user.speed}}</td>
										<td>{{msToTime(user.movingTime)}}</td>
										<td><a href="https://www.google.com/maps?q=loc:{{user.latitude}},{{user.longitude}}" target="_blank">Link</a></td>
										<td>{{user.gsmLevel}}</td>
										<td>
											<p ng-if="user.address!=null">{{user.address}}</p>
											<p get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && oaddress[$index]!=null">{{oaddress[$index]}}</p>
											<p ng-if="user.address==null && oaddress[$index]==null"><img src="assets/imgs/loader.gif" align="middle"></p>
										</td>
										<!-- <td style="cursor: pointer;" get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && oaddress[$index]==null">Click Me</td>
										<td get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && oaddress[$index]!=null">{{oaddress[$index]}}</td> -->
										<!-- <td ng-hide="true">{{user.isOverSpeed}}</td> -->
										<td>{{user.odoDistance}}</td>
										<td>{{user.tripDistance}}</td>
										<!-- <td><a href="https://www.google.com/maps?q=loc:{{user.latitude}},{{user.longitude}}" target="_blank">Link</a></td>	 -->					
									</tr>
									<tr ng-if="overspeeddata==null || overspeeddata.length == 0" align="center">
										<td colspan="8" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
								</table>
							</div>
			   			 </tab>
			   			 
			   			 
			   			 
			   			 <tab select="alertMe('Stopped/Parked')" heading="Parked" active="tabparked" >
			   				 <p style="margin:0" class="page-header">Stopped/Parked Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span>
                             </p>
                            <div class="form-group pull-right" style="margin-right: 20px;margin-top: 7px;margin-bottom: 7px;">
                            <span style="font-size: 14px;">
			   			
                                   <select ng-model="time_park" ng-change="filtersTime(time_park,'park')" style="padding:3px 3px 3px 3px; font-size: 12px;width:100px;">
                                        <option value="All"> All </option>
                                        <option value="1">  >  1 min </option>
                                        <option value="2">  >  2 mins </option>
                                        <option value="5">  >  5 mins </option>
                                        <option value="10"> > 10 mins </option>
                                        <option value="15"> > 15 mins </option>
                                        <option value="30"> > 30 mins </option>
                                       <option value="100"> > 1 hour </option>
                                   </select>
                              </span>
                            </div>

                          
			   				 <div class="box-body table-responsive" id='stoppedparkingreport' style="padding-top:10px;">
			   				 <table class="table table-bordered  table-striped table-condensed table-hover">
			   				 	<thead>
								   	<tr style="text-align:center; font-weight: bold;">
									  	<th colspan="1" style="background-color:#ecf7fb;"><b>Vehicle Group</b></th>
									  	<th style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
									  	<th colspan="1" style="background-color:#ecf7fb;"><b>Vehicle Name</b></th>
									  	<th colspan="2" style="background-color:#f9f9f9;">{{hist.shortName}}</th>
									  	<!-- <td ng-hide="true" colspan="2"><b>Register No</b></td>
								       	<td ng-hide="true">{{hist.regNo}}</td>	 -->			
								  	</tr>
								  	</thead>
								  	</table>
								  	<div class="col-md-12" style="height: 15px;"></div>
								  	<!--<tr><td colspan="5"></td></tr>-->
								  	<table class="table table-bordered  table-striped table-condensed table-hover">
								  	<thead>
									<tr style="text-align:center;font-weight: bold;">
										
										<th style="text-align:center;background-color:#C2D2F2;" custom-sort order="'date'" sort="sort" >Start</th>
										<th style="text-align:center;background-color:#C2D2F2;" custom-sort order="'date'" sort="sort" >End</th>
										<th width="5%" custom-sort order="'gsmLevel'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Sat</th>
										<th width="40%" custom-sort order="'address'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Nearest Location</th>
										<th width="20%" custom-sort order="'parkedTime'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Duration (h:m:s)</th>
										<th width="10%" style="text-align:center;background-color:#C2D2F2;">G-Map</th>
										<!-- <th width="20%" colspan="2" class="id" custom-sort order="'totalParkedTime'" sort="sort" style="text-align:center;">Total Parked Time</th> -->
									</tr></thead>
									<tbody>
									<tr ng-repeat="user in parkeddata | orderBy:natural(sort.sortingOrder):sort.reverse" class="active" style="text-align:center">
										
										<td>{{user.startParkedTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
										<td>{{user.endParkedTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
										<td>{{user.gsmLevel}}</td>
										<td> 
											<p ng-if="user.address!=null">{{user.address}}</p>
											<p get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && saddressStop[$index]!=null">{{saddressStop[$index]}}</p>
											<p ng-if="user.address==null && saddressStop[$index]==null"><img src="assets/imgs/loader.gif" align="middle"></p>
										</td>
										<td>{{getParkedCorrectHours(user.parkedTime)}}</td>
										<td><a href="https://www.google.com/maps?q=loc:{{user.latitude}},{{user.longitude}}" target="_blank">Link</a></td>
									</tr>
									<tr ng-if="parkeddata==null || parkeddata.length==0" align="center">
										<td colspan="6" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
									</tbody>								
							</table>
							</div>
			   			 </tab>
			   			 <tab select="alertMe('idlereport')" heading="Idle" active="tabidle">
			   			 	 <p style="margin:0" class="page-header">Idle Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   			 	 <div class="box-body table-responsive" id="idlereport">
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
										  	<th style="background-color:#ecf7fb;">Vehicle Name</th>
										  	<th style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 			</thead>
			   			 	 		</table>
			   			 	 		<div class="col-md-12" style="height: 15px;"></div>	
			   			 	 		<!-- <tr><td colspan="4"></td></tr> -->
			   			 	 		<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		 <thead>
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th width="13%" class="id" custom-sort order="'date'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Idle Time</th>
											<th width="10%" class="id" style="text-align:center;background-color:#C2D2F2;">G-Map</th>
											<th width="13%" class="id" custom-sort order="'gsmLevel'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Sat</th>
											<th width="40%" class="id" custom-sort order="'address'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Nearest Location</th>
											<th width="15%" class="id" custom-sort order="'idleTime'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Duration (h:m:s)</th>
										</tr>
								     </thead>
			   			 	 	      <tbody>
			   			 	 		  <tr ng-repeat="user in idlereport | orderBy:natural(sort.sortingOrder):sort.reverse" class="active" style="text-align:center">
			   			 	 			<td>{{user.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
										<td><a href="https://www.google.com/maps?q=loc:{{user.latitude}},{{user.longitude}}" target="_blank">Link</a></td>
										<td>{{user.gsmLevel}}</td>
			   			 	 			<td>
			   			 	 				<p ng-if="user.address!=null">{{user.address}}</p>
			   			 	 				<p get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && addressIdle[$index]!=null">{{addressIdle[$index]}}</p>
			   			 	 				<p ng-if="user.address==null && addressIdle[$index]==null"><img src="assets/imgs/loader.gif" align="middle"></p>
			   			 	 			</td>
			   			 	 			<td>{{getParkedCorrectHours(user.idleTime)}}</td>
			   			 	 		</tr>
			   			 	 		<tr ng-if="idlereport==null || idlereport.length==0" align="center">
										<td colspan="5" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	 </tbody>
			   			 	 	</table>
			   			 	</div>
			   				 
			   			 </tab>
			   			 <tab ng-hide="true" select="alertMe('eventReport')" heading="Event" active="tabevent">
			   			 	<p style="margin:0" class="page-header">Event Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   			 	 <div class="box-body table-responsive" id="eventReport">
			   			 	 	<table style="background-color: #cecece; color: #000" class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr>
					   			 	 		<td><label><input type="checkbox"  id="stop"><b> Stoppage </b></label></td>
					   			 	 		<td><label><input type="textbox" id="stop1" style="height: 20px; width:30px; border-radius: 3px" value="10"/><b> (mins) </b></label></td>
					   			 	 		<td><label><input type="checkbox" id="idle"><b> Idle </b></label></td>
					   			 	 		<td><label><input type="textbox" id="idle1" style="height: 20px; width:30px; border-radius: 3px" value="10"/><b> (mins) </b></label></td>
					   			 	 		<td><label><input type="checkbox" id="location" ><b> Location </b></label></td>
					   			 	 	</tr>
					   			 	 	<tr>
					   			 	 		<td><label><input type="checkbox" id="overspeed"><b> Overspeed </b></label></td>
					   			 	 		<td><label><input type="textbox" id="overspeed1" style="height: 20px; width:30px; border-radius: 3px" value="10"/><b> (Km) </b></label></td>
					   			 	 		<td><label><input type="checkbox" id="notreach"><b> NotReachable </b></label><br/></td>
					   			 	 		<td><label><input type="textbox" id="notreach1" style="height: 20px; width:30px; border-radius: 3px" value="10"/><b> (mins) </b></label></td>
					   			 	 		<td><label><input type="checkbox" id="site"><b> Site </b></label>	</td>
					   			 	 	</tr>
					   			 	 	
			   			 	 			
			   			 	 	</table>
			   			 	 	<hr>
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 	 <thead>
			   			 	 		<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
										  	<th colspan="2" style="background-color:#ecf7fb;"style="background-color:#ecf7fb;">Vehicle Name</th>
										  	<th style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 	  </thead>
			   			 	 	</table>
			   			 	 	<div class="col-md-12" style="height: 15px;"></div>
			   			 	 		<!--	<tr><td colspan="5"></td></tr>-->
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 	<thead>		
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th width="20%" class="id" custom-sort order="'startTime'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Start Time</th>
											<th width="20%" class="id" custom-sort order="'duration'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Duration</th>
											<th width="5%" class="id" custom-sort order="'duration'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Sat</th>
											<th colspan="2" width="40%" class="id" custom-sort order="'address'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Nearest Location</th>
											<th width="20%" class="id" custom-sort order="'state'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">State</th>
										</tr>
								</thead>

			   			 	 	<tbody>
			   			 	 		<tr ng-repeat="user in eventReportData | orderBy:natural(sort.sortingOrder):sort.reverse" class="active" style="text-align:center">
			   			 	 			<td>{{user.startTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
										<td>
											<p ng-if="user.duration!=null">{{msToTime(user.duration)}}</p>
											<p ng-if="user.duration==null">--</p>
										</td>
										<td>{{user.gsmLevel}}</td>
			   			 	 			<td colspan="2">
			   			 	 				<p ng-if="user.address!=null">{{user.address}}</p>
			   			 	 				<p get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null && addressEvent[$index]!=null">{{addressEvent[$index]}}</p>
			   			 	 				<p ng-if="user.address==null && addressEvent[$index]==null"><img src="assets/imgs/loader.gif" align="middle"></p>
			   			 	 			</td>
			   			 	 			<td>{{user.state}}</td>
			   			 	 		</tr>
			   			 	 		<tr ng-if="eventReportData==null" align="center">
										<td colspan="5" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	</tbody>
			   			 	 	</table>
			   			 	</div>
			   			 </tab>
			   			 <tab ng-hide="true" select="alertMe('sitereport')" heading="Site" active="tabsite">
			   			 	 <p style="margin:0" class="page-header">Site Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   			 	 <div class="box-body table-responsive" id="sitereport">
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
										  	<th style="background-color:#ecf7fb;">Vehicle Name</th>
										  	<th style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 		</thead>
			   			 	 	</table>
			   			 	 	<div class="col-md-12" style="height: 15px;"></div>		
			   			 	 		<!--<tr><td colspan="4"></td></tr> -->
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 	<thead>	
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th width="20%" class="id" style="text-align:center;background-color:#C2D2F2;">Start Time</th>
											<!-- <th width="10%" class="id" style="text-align:center;">G-Map</th> -->
											<th colspan="2" class="id" style="text-align:center;background-color:#C2D2F2;">Nearest Location</th>
											<th width="20%" class="id" style="text-align:center;background-color:#C2D2F2;">State</th>
										</tr>
								</thead>
			   			 	 	<tbody>
			   			 	 		<tr ng-repeat="user in siteReport   " class="active" style="text-align:center">
			   			 	 			<td>{{user.startTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
			   			 	 			<td colspan="2">{{user.address}}</td>
										<td>{{user.state}}</td>
			   			 	 		</tr>
			   			 	 		<tr ng-if="siteReport==null" align="center">
										<td colspan="4" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	</tbody>
			   			 	 	</table>
			   			 	</div>
			   				 
			   			 </tab>
			   			 <tab select="alertMe('loadreport')" heading="Load" active="tabload" ng-hide="true">
			   			 	<p style="margin:0" class="page-header">Load Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   			 	 <div class="box-body table-responsive" id="loadreport">
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
										  	<th style="background-color:#ecf7fb;">Vehicle Name</th>
										  	<th style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 		</thead>
			   			 	 	</table>
			   			 	 	<div class="col-md-12" style="height: 15px;"></div>	
			   			 	 	<!--	<tr><td colspan="4"></td></tr> -->
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 	  <thead>	
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th class="id"  custom-sort order="'date'" sort="sort"  style="text-align:center;background-color:#C2D2F2;" width="30%">Date &amp; Time</th>
											<th class="id"  custom-sort order="'load'" sort="sort"  style="text-align:center;background-color:#C2D2F2;" width="20%">Load Truck</th>
											<th class="id"  custom-sort order="'gsmLevel'" sort="sort"  style="text-align:center;background-color:#C2D2F2;" width="5%">Sat</th>
											<th class="id" custom-sort order="'address'" sort="sort" style="text-align: center;background-color:#C2D2F2;" width="35%">Nearest Location</th>
											<th width="15%" class="id" style="text-align:center;background-color:#C2D2F2;">G-Map</th>
										</tr>
								 </thead>
			   			 	 	 <tbody>
			   			 	 		<tr class="active" style="text-align:center" ng-repeat="load in loadreport.load | orderBy:natural(sort.sortingOrder):sort.reverse">
			   			 	 			<td>{{load.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
			   			 	 			<td>{{load.load}}</td>
			   			 	 			<td>{{load.gsmLevel}}</td>
			   			 	 			<td>{{load.address}}</td>
			   			 	 			<td><a href="https://www.google.com/maps?q=loc:{{load.lat}},{{load.lng}}" target="_blank">Link</a></td>
									</tr>
			   			 	 		<tr ng-if="loadreport.load ==null || loadreport.load.length==0" align="center">
										<td colspan="4" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	</tbody>
			   			 	 	</table>
			   			 	</div>
			   			 </tab>
			   			 <tab heading="Fuel" select="alertMe('fuelreport')" active="tabfuel">
			   			 	<p style="margin:0" class="page-header">Fuel Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   			 	<div style="min-width:700px; max-width:700px; width: 700px; height: 300px" id="container"></div> 
			   			 	<div class="box-body table-responsive" id="fuelreport">
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
										  	<th style="background-color:#ecf7fb;">Vehicle Name</th>
										  	<th style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 		<!--	<tr><td colspan="3"></td></tr> -->
			   			 	 		</thead>
			   			 	 	</table>
                                
                                <div class="col-md-12" style="height: 15px;"></div>
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 	    <thead>
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th class="id"  custom-sort order="'date'" sort="sort"  style="text-align:center;background-color:#C2D2F2;" width="25%">Date &amp; Time</th>
											<th class="id"  custom-sort order="'fuelLitre'" sort="sort"  style="text-align:center;background-color:#C2D2F2;" width="20%">Fuel (ltr)</th>
											<th class="id"  custom-sort order="'gsmLevel'" sort="sort"  style="text-align:center;background-color:#C2D2F2;" width="5%">Sat</th>
											<th class="id" custom-sort order="'address'" sort="sort" style="text-align: center;background-color:#C2D2F2;" width="35%">Nearest Location</th>
											<th class="id" style="text-align: center;background-color:#C2D2F2;" width="15%">G-Map</th>
										</tr>
								    </thead>
			   			 	 	    <tbody>
			   			 	 		<tr class="active" style="text-align:center" ng-repeat="fuel in fuelValue | orderBy:natural(sort.sortingOrder):sort.reverse">
			   			 	 			<td>{{fuel.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
			   			 	 			<td>{{fuel.fuelLitre}}</td>
			   			 	 			<td>{{fuel.gsmLevel}}</td>
			   			 	 			<td> 
			   			 	 				<p ng-if="fuel.address!=null">{{fuel.address}}</p>
											<p ng-if="fuel.address==null && addressFuel[$index]!=null">{{addressFuel[$index]}}</p>
											<p ng-if="fuel.address==null && addressFuel[$index]==null"><img src="assets/imgs/loader.gif" align="middle"></p>
										</td> 
			   			 	 			<td><a href="https://www.google.com/maps?q=loc:{{fuel.latitude}},{{fuel.longitude}}" target="_blank">Link</a></td>
			   			 	 		</tr>
			   			 	 		<tr ng-if="fuelValue==null || fuelValue.length ==0" align="center">
										<td colspan="5" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	</tbody>
			   			 	 	</table>
			   			 	</div>
			   			 </tab>
			   			 <tab heading="Ignition" select="alertMe('ignitionreport')" active="tabignition">
			   			 	<p style="margin:0" class="page-header">Ignition Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   			 	<div class="box-body table-responsive" id="ignitionreport">
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th style="text-align:center;background-color:#f9f9f9;" colspan="1">{{trimColon(vgroup)}}</th>
										  	<th colspan="2" style="background-color:#ecf7fb;">Vehicle Name</th>
										  	<th colspan="2" style="text-align:center;background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 			</thead>
			   			 	 		</table>
			   			 	 		
                                   <div class="col-md-12" style="height: 15px;"></div>     
			   			 	 		<table class="table table-bordered table-striped table-condensed table-hover">

			   			 	 		<thead>
			   			 	 			<!--<tr><td colspan="6"></td></tr> -->
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th style="text-align:center;background-color:#C2D2F2;" width="20%">Date &amp; Time</th>
											<th style="text-align:center;background-color:#C2D2F2;" width="20%">Status</th>
											<th style="text-align:center;background-color:#C2D2F2;" width="15%">Duration (h:m:s)</th>
											<th style="text-align:center;background-color:#C2D2F2;" width="5%">Sat</th>
											<th style="text-align: center;background-color:#C2D2F2;" width="30%">Nearest Location</th>
											<th style="text-align: center;background-color:#C2D2F2;" width="15%">G-Map</th>
										</tr>
								  </thead>
			   			 	 	<tbody>
			   			 	 		<tr class="active" style="text-align:center" ng-repeat="ignition in ignitionData">
			   			 	 			<td>{{ignition.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
			   			 	 			<td>{{ignition.ignitionStatus}}</td>
			   			 	 			<td rowspan="2" ng-if="ignition.ignitionStatus == 'ON'">{{msToTime(ignitionData[$index+1].date-ignition.date)}}</td>
			   			 	 			<td>{{ignition.gsmLevel}}</td> 
			   			 	 			<td>{{ignition.address}}</td> 
			   			 	 			<td><a href="https://www.google.com/maps?q=loc:{{ignition.latitude}},{{ignition.longitude}}" target="_blank">Link</a></td>
			   			 	 		</tr>
			   			 	 		<tr ng-if="ignitionData==null || ignitionData.length==0" align="center">  
										<td colspan="6" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	</tbody>
			   			 	 	</table>
			   			 	</div>
			   			 </tab>
			   			 <tab heading="A/C" select="alertMe('acreport')" active="tabac">
			   			 	<p style="margin:0" class="page-header">A/C Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>
			   			 	<br>
			   			 	
			   			 	<div class="box-body table-responsive" id="acreport">
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
										  	<th style="background-color:#ecf7fb;">Vehicle Name</th>
										  	<th colspan="2" style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 		</thead>
			   			 	 	</table>
			   			 	 	<div class="col-md-12" style="height: 15px;"></div>
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 	<thead>
			   			 	 		<!-- <tr><td colspan="5	"></td></tr> -->
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th style="text-align:center;background-color:#C2D2F2;" width="20%">Date &amp; Time</th>
											<th style="text-align:center;background-color:#C2D2F2;" width="15%">Status</th>
											<th style="text-align:center;background-color:#C2D2F2;" width="15%">Duration (h:m:s)</th>
											<th style="text-align: center;background-color:#C2D2F2;" width="35%">Nearest Location</th>
											
											<th class="id" style="text-align: center;background-color:#C2D2F2;" width="15%">G-Map</th>
										</tr>
								</thead>
			   			 	 	<tbody>
			   			 	 		<tr class="active" style="text-align:center" ng-repeat="ac in acReport">
			   			 	 			<td>{{ac.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
			   			 	 			<td>
			   			 	 				<span ng-if="ac.vehicleBusy == 'yes'">ON</span>
			   			 	 				<span ng-if="ac.vehicleBusy == 'no'">OFF</span>
			   			 	 			</td>
			   			 	 			<td rowspan="2" ng-if="ac.vehicleBusy == 'yes'">{{msToTime(acReport[$index+1].date-ac.date)}} </td>
			   			 	 			<td> {{ac.address}}
			   			 	 				<!-- <p ng-if="ignitionignitionignition.address!=null">{{ignition.address}}</p>
											<p ng-if="ignitionignition.address==null && addressFuel[$index]!=null">{{addressFuel[$index]}}</p>
											<p ng-if="ignition.address==null && addressFuel[$index]==null"><img src="assets/imgs/loader.gif" align="middle"></p> -->
										</td> 
			   			 	 			<td><a href="https://www.google.com/maps?q=loc:{{ac.latitude}},{{ac.longitude}}" target="_blank">Link</a></td>
			   			 	 		</tr>
			   			 	 		<tr ng-if="acReport==null || acReport.length == 0" align="center">
										<td colspan="6" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	</tbody>
			   			 	 	</table>
			   			 	</div>
			   			 </tab>
                          <tab select="alertMe('stopReport')" heading="Stoppage" active="tabStop" >
			   			 	 <p style="margin:0" class="page-header">Stoppage Report <span style="float: right;">From : {{fromdate}} {{fromtime}} - To : {{todate}} {{totime}}</span></p>

			   			 <div class="form-group pull-right" style="margin-right: 20px;margin-top: 7px;margin-bottom: 7px;">
                            <span style="font-size: 14px;">
			   			
                                  <select ng-model="time_stop" ng-change="filtersTime(time_stop,'stop')" style="padding:3px 3px 3px 3px; font-size: 12px;width:100px;">
                                        <option value="All"> All </option>
                                        <option value="1">  >  1 min </option>
                                        <option value="2">  >  2 mins </option>
                                        <option value="5">  >  5 mins </option>
                                        <option value="10"> > 10 mins </option>
                                        <option value="15"> > 15 mins </option>
                                        <option value="30"> > 30 mins </option>
                                       <option value="100"> > 1 hour </option>
                                   </select>
                              </span>
                            </div>
			   			 	 <div class="box-body table-responsive" id="stopReport">
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 		<thead>
			   			 	 			<tr style="text-align:center; font-weight: bold;">
				   			 	 			<th style="background-color:#ecf7fb;">Vehicle Group</th>
										  	<th colspan="3" style="background-color:#f9f9f9;">{{trimColon(vgroup)}}</th>
										  	<th style="background-color:#ecf7fb;" colspan="2">Vehicle Name</th>
										  	<th style="background-color:#f9f9f9;">{{hist.shortName}}</th>	
			   			 	 			</tr>
			   			 	 		</thead>
			   			 	 	</table>
			   			 	 	<div class="col-md-12" style="height: 15px;"></div>
			   			 	 	<table class="table table-bordered table-striped table-condensed table-hover">
			   			 	 	<thead>
			   			 	 			<!--<tr><td colspan="7"></td></tr>-->
			   			 	 			<tr style="text-align:center;font-weight: bold;">
											<th width="15%" class="id" custom-sort order="'date'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Start Time</th>
											<th width="15%" class="id" custom-sort order="'endStoppageTime'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">End Time</th>
											<th width="10%" class="id" style="text-align:center;background-color:#C2D2F2;">G-Map</th>
											<th width="7%" class="id" custom-sort order="'gsmLevel'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Sat</th>
											<th width="36%" class="id" custom-sort order="'address'" sort="sort" style="text-align:center;background-color:#C2D2F2;">Location</th>
											<th colspan="2" width="22%" class="id" custom-sort order="'stoppageTime'" sort="sort"  style="text-align:center;background-color:#C2D2F2;">Duration (h:m:s)</th>
										</tr>
								</thead>
			   			 	 	<tbody>
			   			 	 		<tr ng-repeat="user in stopReport | orderBy:natural(sort.sortingOrder):sort.reverse" class="active" style="text-align:center">
			   			 	 			<td>{{user.date | date:'yyyy-MM-dd HH:mm:ss'}}</td>
			   			 	 			<td>{{user.endStoppageTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
										<td><a href="https://www.google.com/maps?q=loc:{{user.latitude}},{{user.longitude}}" target="_blank">Link</a></td>
										<td>{{user.gsmLevel}}</td>
			   			 	 			<td>
			   			 	 				<p ng-if="user.address!=null">{{user.address}}</p>
			   			 	 			<!--	<p get-location lat={{user.latitude}} lon={{user.longitude}} index={{$index}} ng-if="user.address==null ">{{addressIdle[$index]}}</p>-->
			   			 	 				<p ng-if="user.address==null"><img src="assets/imgs/loader.gif" align="middle"></p>
			   			 	 			</td>
			   			 	 			<td>{{msToTime(user.stoppageTime)}}</td>
			   			 	 		</tr>
			   			 	 		<tr ng-if="stopReport==null || stopReport.length==0" align="center">
										<td colspan="7" class="err"><h5>No Data Found! Choose some other date</h5></td>
									</tr>
			   			 	 	</tbody>
			   			 	 	</table>
			   			 	</div>
			   				 
			   			 </tab>

			   			<div class="pull-right">
		                <!-- <a href="downloadhistory?vvid={{id}}&rid={{downloadid}}&fd={{fromdate}}&ft={{fromtime}}&td={{todate}}&tt={{totime}}&dvg={{vgroup}}&interval={{interval}}" target="_blank"><img src="../app/views/reports/image/Adobe.png" /></a> -->
		                <img style="cursor: pointer;" ng-click="exportData(downloadid)"  src="../app/views/reports/image/xls.png" />
		                <img width=30 height=30 style="cursor: pointer;" ng-click="exportDataCSV(downloadid)"  src="../app/views/reports/image/csv.jpeg" />
		            </div>
		    		</tabset>
    		 		<!-- End Tabset -->
    		 		 
		        </div><!-- /.box-body -->
		        <!-- <div ng-show="loading" class="overlay"></div>
		        <div ng-show="loading" class="loading-img"></div> -->
		        <!--<div ng-show="true" class="overlay"></div>
		        <div ng-show="true" class="loading-img"></div> -->
		        <div class="box-body col-md-3" ng-show="overallEnable">
		        	<!-- <div class="small-box bg-aqua">
                        <div class="inner">
                            <h3>{{hist.overSpeedInstances}}</h3>
                            <p>
                            	<b> Overspeed Instances </b>
                            </p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                        </div>
                    </div> -->
                            
                    <div class="small-box bg-green">
                        <div class="inner">
                            <h4 ng-if ="hist.topSpeed != 0 && hist.topSpeedTimeUTC != 0">
                                {{hist.topSpeed}} &nbsp; {{hist.topSpeedTimeUTC | date:'yyyy-MM-dd HH:mm:ss'}}
                            </h4>
                            <h4 ng-if ="hist.topSpeed == 0 && hist.topSpeedTimeUTC == 0">
                                0
                            </h4>
                            <p><b><a style="color: white;" href="https://www.google.com/maps?q=loc:{{hist.topSpeedGeoLocation}}" target="_blank"><u>Topspeed</u></a></b>
                                
                            </p>
                            
                        </div>
                       <div class="icon">
                            <i class="ion ion-speedometer"></i>
                        </div>
                    </div>
                            
                     <div class="small-box bg-yellow">
                        <div class="inner">
                            <h4 ng-bind="msToTime(hist.totalRunningTime)">
                              
                            </h4>
                            <p><b>Total Running Time</b>
                                
                            </p>
                            
                        </div>
                       <div class="icon">
                            <i class="ion ion-clock"></i>
                        </div>
                    </div>
                            
                     <div class="small-box bg-red">
                        <div class="inner">
                            <h4 ng-bind="msToTime(hist.totalParkedTime)">
                                
                            </h4>
                            <p><b>Total Parked Time</b>
                                
                            </p>
                            
                        </div>
                       <div class="icon">
                            <i class="ion ion-clock"></i>
                        </div>
                    </div>

                    <div class="small-box bg-dark-gray">
                     	<div class="inner">
                     		<h4 ng-bind="msToTime(hist.totalIdleTime)"></h4>
                     		<p><b>Total idle time</b></p>
                     	</div>
                    	<div class="icon">
                    		<i class="ion ion-clock"></i>
                    	</div>
                    </div>   
                     <div class="small-box bg-blue">
                        <div class="inner">
                            <h4 ng-bind="hist.parkingCount">
                                
                            </h4>
                            <p><b>No. of Parkings</b>
                                
                            </p>
                            
                        </div>
                       <div class="icon">
                            <i class="ion ion-clock"></i>
                        </div>
                    </div>
                    <div class="small-box bg-aqua">
                    	<div class="inner">
                    		<h4 ng-bind="msToTime(hist.totalNoDataTime)"></h4>
                     		<p><b>No data time</b></p>
                    	</div>
                    	<div class="icon">
                    		<i class="ion ion-clock"></i>
                    	</div>
                    </div>
		        </div>
		    </div>	
        </div>
       
    <script src="assets/js/static.js"></script>        
	<script src="assets/js/jquery-1.11.0.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular.min.js"></script> 
    <script data-require="angular-ui-bootstrap@0.11.0" data-semver="0.11.0" src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.11.0.js"></script>
    <script src="../app/views/reports/customjs/ui-bootstrap-tpls-0.12.0.min.js"></script>
    <script src="assets/js/highcharts.js"></script>
    <script src="../app/views/reports/customjs/moment.js"></script>
    <script src="../app/views/reports/customjs/FileSaver.js"></script>
    <script src="../app/views/reports/customjs/html5csv.js"></script>
    <script src="../app/views/reports/datepicker/bootstrap-datetimepicker.js"></script>
    <script src="../app/views/reports/datatable/jquery.dataTables.js"></script>
    <script src="assets/js/naturalSortVersionDatesCaching.js"></script>
<!--<script src="assets/js/naturalSortVersionDates.js"></script> -->
    <script src="assets/js/vamoApp.js"></script>
    <script src="../app/views/reports/customjs/history.js"></script>
	
	

	<script>
	   
		

	    
	    $("#example1").dataTable();
	      
		$("#menu-toggle").click(function(e) {
			e.preventDefault();
			$("#wrapper").toggleClass("toggled");
		});
		
        $(function () {
                $('#dateFrom, #dateTo').datetimepicker({
					format:'YYYY-MM-DD',
					useCurrent:true,
					pickTime: false
				});
				$('#timeFrom').datetimepicker({
					pickDate: false
				});
				$('#timeTo').datetimepicker({
					useCurrent:true,
					pickDate: false
				});
        });      
    </script>
    <style>
    	.alig{
    		style="text-align:center; font-weight: bold;"
    	}
    </style>
</body>
</html>
